<div id="record">
  <div class="record" data-bind="if: record">
    Prediction record: <span data-bind="text: record.correct"></span> - <span
    data-bind="text: record.wrong"></span>
  </div>
  <p></p>
  <p></p>
</div>


<div id="predictions">

  <div class="predictions" data-bind="if: predictions && predictions.length">

    <h3>Predicting upcoming games</h3>
    <table class="table">
      <tbody>
        <tr data-bind="foreach: predictions">
          <td data-bind="if: !$index()"></td>
          <td><img data-bind="attr: {src: '{{basepath}}img/' + at + '.svg'}"></img></td>
        </tr>
        <tr data-bind="foreach: predictions">
          <td data-bind="if: !$index()"></td>
          <td>@</td>
        </tr>
        <tr class="separation" data-bind="foreach: predictions">
          <td data-bind="if: !$index()"></td>
            <td><img data-bind="attr: {src: '{{basepath}}img/' + ht + '.svg'}"></img></td>
        </tr>
        <tr class="separation results" data-bind="foreach: predictions">
          <td data-bind="if: !$index()">Winner</td>
          <td>
            <img class="winner" data-bind="attr: {src: '{{basepath}}img/' + ot + '.svg'}"></img>
            <div data-bind="text: o.toFixed(0) + '%'"></div>
          </td>
        </tr>
        <tr class="results" data-bind="foreach: predictions">
          <td data-bind="if: !$index()">Rate</td>
          <td>
            <img data-bind="attr: {src: '{{basepath}}img/' + wt + '.svg'}"></img>
            <div data-bind="text: w.toFixed(1)"></div>
          </td>
        </tr>
        <tr data-bind="foreach: predictions">
          <td data-bind="if: !$index()">Points</td>
          <td>
            <img data-bind="attr: {src: '{{basepath}}img/' + pt + '.svg'}"></img>
            <div data-bind="text: p.toFixed(0)"></div>
          </td>
        </tr>
        <tr data-bind="foreach: predictions">
          <td data-bind="if: !$index()">Yards</td>
          <td>
            <img data-bind="attr: {src: '{{basepath}}img/' + yt + '.svg'}"></img>
            <div data-bind="text: y.toFixed(0)"></div>
          </td>
        </tr>
        <tr data-bind="foreach: predictions">
          <td data-bind="if: !$index()">Turnovers</td>
          <td>
            <img data-bind="attr: {src: '{{basepath}}img/' + tt + '.svg'}"></img>
            <div data-bind="text: t.toFixed(1)"></div>
          </td>
        </tr>

      </tbody>
    </table>
    <div class="explanations">Positive numbers indicates advantage for home team.</div>
    <br>

  </div>

</div>


<h3>Strenght of remaining schedule over season.</h3>
<svg id="scheduletimeline">
</svg>

<p>
</p>



<script type="text/javascript">
  var keystats = '_' + {{season}} + ({{week}} < 10 ? '0' : '') + {{week}};
  var data = hf.stats.data[keystats];
  var predictions = data.predictions.nextweek;
  var record = data.predictions.record;
  ko.applyBindings(predictions, document.getElementById('predictions'));
  ko.applyBindings(record, document.getElementById('record'));


  var scheduledataset = 'ssoh';

  var scheduleTimeGraph = new hf.graphs.Timeline('#scheduletimeline');
  var scheduletset = new hf.stats.Timeset({season: {{season}} - 1, week: 21},
                                 {season: {{season}}, week: {{week}}}, scheduledataset);
  scheduleTimeGraph.create(scheduletset, '{{basepath}}');



</script>

