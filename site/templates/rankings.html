{% extends "../../_site/templates/base.html" %}

{% block pagecontent %}
<div class="title">
  <h2>NFL Power Rankings - Week {{week}} {{season}}</h2>
  <span class="byline">{{description}}</span>
  {% include "../../_site/templates/prnavigation.html" %}
</div>

<p>
{{ contents }}
</p>


<svg id="chart">
</svg>
<p>
</p>
<h3>Developement over the season</h3>
<svg id="timeline">
</svg>

<div>
{% set results = "pred2" %}
{% include "../../_site/templates/predictions.html" %}
</div>

<div>
{% include "../../_site/templates/prnavigation.html" %}
</div>

<script type="text/javascript">
  var dataset = 'osoh';

  params = URI.parseQuery(location.search);
  if (params.dataset && params.dataset.length == 4) {
    dataset = params.dataset;
  }
  window.console.log(dataset);
  var newGraph = new hf.graphs.Bar('#chart');
  var set = new hf.stats.Set({{season}}, {{week}}, dataset);
  newGraph.create(set, '{{basepath}}');

  var timeGraph = new hf.graphs.Timeline('#timeline');
  var tset = new hf.stats.Timeset({season: {{season}} - 1, week: 21},
                                 {season: {{season}}, week: {{week}}}, dataset);
  timeGraph.create(tset, '{{basepath}}');
</script>

{% include "../../_site/templates/disqus.html" %}


{% endblock %}
